<html>
	<head>
		<link rel = "stylesheet"
		href = css.css>

		<script src=src/pageexe.js></script>
		<script src=src/game.js></script>
	</head>
	<body>
		<img id = "rotating_centi" src="image/circular_centi.png">
		<div class = "pagination" style='display: inline-block;' id = "paginator1">
			<a onclick="GotoPage(1);" href="#" id = '1'>1</a>
			<a onclick="GotoPage(2);" href="#" id = '2'>2</a>
			<a onclick="GotoPage(3);" href="#" id = '3'>3</a>
			<a onclick="GotoPage(4);" href="#" id = '4'>4</a>
			<a onclick="GotoPage(5);" href="#" id = '5'>5</a>
			<a onclick="GotoPage(7);" href="#" id = '6'>6</a>
			<a onclick="GotoPage(8);" href="#" id = '7'>7</a>
			<a onclick="PaginationForward();" href="#">&raquo;</a> 
		</div>

		<div class = "pagination" style="display: none;" id = "paginator2">
			<a onclick="PaginationBackward();"href="#">&laquo;</a>
			<a onclick="GotoPage(9);" href="#" id = '8'>8</a>
			<a onclick="GotoPage(10);" href="#" id = '9'>9</a>
			<a onclick="GotoPage(12);" href="#" id = '10'>10</a>
			<a onclick="GotoPage(13);" href="#" id = '11'>11</a>
			<a onclick="GotoPage(14);" href="#" id = '12'>12</a>
		</div>

		<div id="p1", style="display: block;"> 
			<h1 style="color:#ffffff"> The Centipede game</h1>
			<br>
			<h2 style="color:#000000"> Math 3911 Group Project </h2>
			<br>
			<br>
			<br><br><br>
			<button class="button button1", style="bottom: 45%" onclick="NextPage(); document.getElementById('centipede1').style.display = 'none'"> Play </button>
		</div>
		
		<div id='p2', style="display: none;">
			<h1 style="color: #fcfcfc; text-align: center; font-size: 40px"> Before the game starts...</h1>
			<button class="button button1" style="right: 5%;" onclick="NextPage();"> Next </button><br><br><br>
			<div class='text_sec'>
				<p>
				True story: once upon a time, Liu Bei (Emperor of Shu) and Sun Quan (Emperor of Wu) formed an ally against Cao Cao
				 (Emperor of Wei, who had the strongest military forces at that time). However, Liu and Sun kept arguing over the
				ownership of Jingzhou, a state on the boundary of their countries with great strategic significance, as Liu Bei
				managed to “borrow” Jingzhou (in fact, only part of it), promising to return the state to Wu once he finished 
				his expansion to the western territories. 
				<br><br>
				The problem is, as Shu and Wu were not as strong as Wei, Liu and Sun 
				had to form a coalition against Cao, otherwise neither of them was capable of fighting against Cao. On the other
				hand, Sun wants to take back Jingzhou before it becomes impossible to do so (as Liu’s power at Jingzhou was 
				stabilizing). It happened that Sun was too impulsive to hold the ally and attacked Jingzhou in 219 AD. It seems
				that their chain of mutual distrust had inevitably ruled out the possibility of cooperation, abandoning the 
				potential mutual benefit (of making an ally). 
				<br><br>
				Similar examples abound in modern society; it is natural to 
				wonder what the underlying reason is for people to sacrifice mutual benefit for marginal interest based on 
				distrust. If you’re familiar with game theory, you should’ve guessed there’s a game-theoretical explanation.
				To unveil the secret behind this, let’s play a game:
				</p>
			</div>
		</div>
		
		<div id="p3", style="display: none;">
			<h1 style="color:#fafafa; text-align:center; font-size: 40px"> Here we use a simple game to model that situation:</h1>
			<br>
			<p style="color:#aaaaaa; text-align:center; font-size: 30px"> There are 2 piles of coins:</p><br><br><br><br><br><br><br><br><br><br><br><br><br>
			<img src="image/coin.png", width="200", height="200", style="position: absolute; right:50%; top: 220px;">
			<img src="image/coin1.png", width="200", height="200", style="position: absolute; left:50%; top: 220px;">

			<p style="color: #000000; font-size: 40px; text-align:center"> One consisting of 3 coins, the other consisting of 1 coins</p>
			<p style="color: #000000; font-size: 40px; text-align:center"> You and your adversary (in this case, the computer) <br>are trying to get more coins from the two piles.</p>

			<button class="button button1", style="right: 5%;" onclick=NextPage()> Next </button>
		</div>

		<div id='p4', style="display: none;">
			<img src="image/coin.png", width="200", height="200", style="position: absolute; right:50%; top: 50px;">
			<img src="image/coin1.png", width="200", height="200", style="position: absolute; left:50%; top: 50px;">
			<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
			<p style="text-align: center; font-size: 30px; color:#000000;"> The players take turns to make actions. When it is your turn, you may:</p><hr>
			<p style="text-align: center; font-size: 30px; color:#000000;">1. Take: take the Bigger pile; <br><br> OR <br></p>
			<p style="text-align: center; font-size: 30px; color:#000000;">2. Pass: the number of coins of <br>each pile increased by 1(e.g. (3, 1) -> (4, 2)); <br>Then the other player start his turn.</p>
			<button class="button button1", style="right: 5%;", onclick=NextPage()> Next </button>

		</div>

		<div id = 'p5', style="display: none">
			<h2 style="color: #fcfcfc; font-size: 40px; text-align: center"> Let's have a try! This time, the game will end in 6 turns </h2>
			<br><br>
			<p style="color: #fcfcfc; font-size: 40px; text-align: center; color:#111111">(You->Computer->You->Computer->You->Computer)</p><br>
			<br><br><br><br><br><br><br><br><br><br>
			<p style="color: #fcfcfc; font-size: 50px; text-align: center; color: #333333; "> If nobody chooses to take, the coins will be <br>split evenly at the end of the game!</p>
			<button class="button button1", style="right: 45%; bottom: 40%; width: 10%; height: 7%;", onclick="NextPage(); startCGame();disablePaginator();"> Play! </button>
		</div>

		<div id = 'p6', style="display: none">
			<img src="image/coin.png", width="200", height="200", style="position: absolute; right:49%; top: 150px;">
			<img src="image/coin1.png", width="200", height="200", style="position: absolute; left:51%; top: 150px;">

			<button class = "button button1", style="width: 200px; height: 70px; left: 20%; bottom: 30%;", onclick="takeAction();"> Take Bigger Pile</button>
			<button class = "button button1", style="width: 200px; height: 70px; right: 20%; bottom: 30%;", onclick="passAction();"> Pass </button>
			<button class="button button1", style="right: 5%;", onclick="NextPage(); endGame();enablePaginator('paginator1');"> Next </button>
			<button class = "button button1", style="width: 100px; right: 46%; bottom: 20%;", onclick="resetGame();"> Reset </button>

		</div>

		<div id ='p7', style="display: none">
			<h1 style="color: #fafafa; font-size: 40px; text-align:center">Analysis</h1>
			<h2 style="color: #fafafa; font-size: 30px; text-align:center"> Now, before we start to analyze, let's introduce a new concept:</h2>
			<h3 style="color: #fafafa; font-size: 20px; text-align:center; color: #aaaaaa;">If you are not familiar with game theory, don't worry, just jump to the next page and you will see our explanation.</h3>

			<h1 style="color: #fafafa; font-size:40px; text-align:center"> SPNE </h1>
			<div class = 'text_sec' style = "height: 50%">
				<p>
				We have learned in class about Nash Equilibrium as a solution concept of two-person nonzero-sum games. A natural extension of Nash Equilibrium in the case of dynamic games is the subgame perfect Nash Equilibrium (SPNE). A subgame of a dynamic game, stated informally,
				is the continuation of a game at any node in the game’s extensive form satisfying certain properties. A strategy profile (that is, a strategy combination at every step of the game) is a SPNE if it represents a Nash Equilibrium of every subgame of the original game. 
				Intuitively, a SPNE is a strategy profile that is optimal (in the Nash sense) at any point in the game, regardless of what happened in the past. 
				<br><br>
				To find a SPNE, a common method is called backward induction, which is a procedure where one first finds the optimal last move, and the other player chooses their optimal strategies accordingly. Continuing the process until the beginning of the game, one then obtains a SPNE of the game. 
				<br><br>
				Remark: every SPNE must also be a Nash Equilibrium of the game, so the former is actually a stronger solution concept. 
				
				</p>
			</div>
			<button class="button button1" style="right: 5%;" onclick="NextPage();"> Next </button>
		</div>

		<div id = 'p8', style="display: none">
			<h1 style="color: #fafafa; font-size: 40px; text-align:center; bottom:5%">Analysis</h1><br><br><br>
			<div class='text_sec'>
				<p>
					In particular, in the game, since the potential final mover is P2, we consider the last move of P2. 
					Clearly P2 would prefer choosing “take” (with payoff 8), rather than “pass’’ (with a payoff of 7)  in the last 
					round to maximize his payoff. 
					<br><br>
					Assuming P2 chooses “take” in the last round, P1 would be better off if he further chooses  “take” in the 
					previous round. Indeed, as the payoff of the game progresses linearly, it’s easy to check that 
					continuing this process, P1 would choose “take” in the very first round. Indeed, the strategy profile where every 
					player chooses “take” at any point in the game is the unique SPNE of the game! (Rosenthal, 1981)
					<br><br>
					As it is shown in the graph, the payoff of this game looks like a centipede. This is why this game is named as centipede game.

					
				</p>
			</div>
			<button class="button button1" style="right: 5%;" onclick="NextPage();"> Next </button>
			
		</div>
		
		<div id = 'p9' style="display: none;">
			<h1 style="color:#fafafa; text-align:center; font-size:40px;"> however... <h1> 
			<br>
			<div class='text_sec'>
				<p>
					Although the reasoning of backward induction seems impeccable, the result is somewhat unintuitive. 
					<br><br>
					One may feel that it makes more sense for both players to “reach an agreement” and pass a few rounds before taking, which would lead to 
					better payoff for both of them. Indeed, in many experimental studies of the CG (exact model of game may vary, but with the same overall structure and SPNE), 
					it’s shown that people tend not to adopt the strategy suggested by the SPNE, but rather to delay their taking after a 
					few passes. 
					<br><br>
					Therefore we’d like to know what caused this phenomenon, and what, in real life situations, can we do (e.g. impose certain conditions/change the game setup) 
					to encourage people to delay their taking, thereby increasing collective payoff. One such design is called a 
					Reciprocity Game (RG), which we’ll demonstrate as follows.
				</p>
			</div>
			<button class="button button1" style="right: 5%;" onclick="NextPage();"> Next </button>
		</div>

		<div id = 'p10', style="display: none">
			<h2 style="color: #fcfcfc; font-size: 50px; text-align: center"> The Reciprocity Game(RG)  </h2>
			<br><br><br><br><br><br><br><br><br>
			<p style="color: #fcfcfc; font-size: 40px; text-align: center; color:#b62121">When a player chooses Take, he will take the smaller pile.</p>
			<br>
			<p style="color: #fcfcfc; font-size: 30px; text-align: center; color:#111111"> The rest settings are the same as the centipede game. </p> 
			<button class="button button1", style="right: 45%; bottom: 20%; width: 10%; height: 5%", onclick="NextPage(); startRGame(); disablePaginator();"> Play! </button>
		
		</div>

		<div id = 'p11', style="display: none">
			<img src="image/coin.png", width="200", height="200", style="position: absolute; right:49%; top: 150px;">
			<img src="image/coin1.png", width="200", height="200", style="position: absolute; left:51%; top: 150px;">

			<button class = "button button1", style="width: 200px; height: 70px; left: 20%; bottom: 30%;", onclick="takeAction();"> Take Smaller Pile</button>
			<button class = "button button1", style="width: 200px; height: 70px; right: 20%; bottom: 30%;", onclick="passAction();"> Pass </button>
			<button class="button button1", style="right: 5%;", onclick="NextPage(); endGame();enablePaginator('paginator2')"> Next </button>
			<button class = "button button1", style="width: 100px; right: 46%; bottom: 20%;", onclick="resetGame();"> Reset </button>

		</div>

		<div id = 'p12' style="display: none">
			<h1 style="color:#fafafa; text-align:center; font-size:40px;"> Analysis of the Reciprocity Game <h1> 
			<div class='text_sec'>
				<p>
					We claim that the game would end in the last round under the same assumption as the previous 
					game, i.e. P1 and P2 would both get 7 (coins). This can be shown by forward induction.
					<br><br>
					In the first round, P1 would get 1 by taking and get at least 3 by passing, regardless of what 
					happens later. Hence P1 prefers passing at round 1. Similarly, if P2 decides to take, he gets only 2; 
					whereas he can get at least 4 by passing. Thus P2 has incentive to pass at the second round.
					<br><br>
					Inductively, the same reason would apply for the two players until the last round. It therefore 
					follows that neither player would choose to take at any intermediate round, and they will split the 
					coins evenly when the maximum round is reached. Indeed, the strategy that both players choose “pass” at 
					every round is a SPNE of the RG.
					
					
				</p>
			</div>
			<button class="button button1" style="right: 5%;" onclick="NextPage();"> Next </button>
		</div>

		<div id = 'p13' style="display: none">
			<h1 style="font-size: 40px; text-align:center; color:#fafafa">Conclusion</h1><br>
			<div class='text_sec'>
				<p>
					Thanks for playing the game, and congratulations on completing it! We make this game trying to demonstrate 
					a peculiar Nash equilibrium result of the game interactively due to players’ mutual distrust. This resembles 
					the renowned Prisoner's Dilemma that in both games, the players fail to reap the benefit of cooperation
					due to mutual distrust (in game-theoretic terms, unstable payoff pairs).
					<br><br>
					Although our game is played and studied under theoretical assumptions, it does help explain some phenomena, 
					one of which is the Jingzhou incident back to Three Kingdoms in ancient China, which was also illustrated briefly 
					in the introduction.
					<br>
					We know that Kingdom Wu had sovereignty of Jingzhou but couldn’t take it back as the alliance 
					continues. At the same time Kingdom Shu would like to govern the city as long as possible. The emperors of both 
					kingdoms were reluctant to keep the alliance longer than necessary, despite they both know that the longer the 
					alliance holds, the more probable it would have been to defeat their common enemy.
					<br>
					One may find the situation quite similar to our centipede game. An analogy of 
					our explanation of the game thus provides a feasible account for the controversial result that Kingdom Wu tore up the 
					deal and betrayed Kingdom Shu to conquer Jingzhou much earlier than it could defeat Kingdom Wei on their own.
					<br><br>
					Although the result of the game seems frustrating as there is no role of trust in it, actual experiments of these 
					games show us that few people would apply the Nash equilibrium strategies, such as those shown in the article of 
					Rosemarie Nagel and Fang Fang Tang(1998). 
					<br>
					All in all, when we are in a game, it would always be best to make positive communication and build mutual 
					trust with other players to obtain a win-win solution instead of falling into invisible 
					traps like that in the Centipede Game due to distrust.
				</p>
			</div>
			<button class="button button1" style="right: 42.5%; bottom: 9%; width: 15%;" onclick="NextPage();"> Thank you </button>
		</div>

		<div id = 'p14' style="display: none;">
			<h1 style="color:#fafafa; text-align:center; font-size:40px;"> Reference<h1> <br>
			<div class='text_sec'>
				<p>
					1. Rosenthal, R.W. Games of Perfect Information; Predatory Pricing and the Chain-Store Paradox. J. Econ.
					Theory 1981, 23, 92–100. 
					<br><br>
					2. García-Pola, B.; Iriberri, N.; Kovárí, J. Non-Equilibrium Play in Centipede Games. Games Econ. Behav. 2020, 120, 391–433. 
					<br><br>
					3. McKelvey, R.; Palfrey, T. An Experimental Study of the Centipede Game. Econometrica 1992, 60, 803–836.
					<br><br>
					4. Agel, R.; Tang, F.F. Experimental Results on the Centipede Game in Normal Form: An Investigation on
					Learning. J. Math. Psychol. 1998, 42, 356–384.
					<br><br>
					5. Steven J. Brams, D. Marc Kilgour. A Note on Stabilizing Cooperation in the Centipede Game. MDPI, 20 August 2020
					<br><br>
					6. Aumann RJ. On the centipede game. Games and economic Behavior. 1998 Apr 1;23(1):97-105.
					<br><br>
					7. Nicky Case. The Evolution of Trust [Internet]; 2017 [updated 2017 July; cited 2021 May 1]. Avaliable from: https://ncase.me/trust/.
					<br><br>
					8. Wang Hai. An answer to the application of centipede games in reality [Internet]. Zhihu; 2017 [updated 2017 september 4; cited 2021 May 1]. Available from: https://www.zhihu.com/question/29543850.

					
				</p>
			</div>
		</div>
	</body>
</html>
